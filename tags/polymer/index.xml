<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Homfen&#39;s blog</title>
    <link>http://blog.homfen.me/tags/polymer/index.xml</link>
    <description>Recent content on Homfen&#39;s blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <atom:link href="http://blog.homfen.me/tags/polymer/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Polymer Demo - Simple Google Map</title>
      <link>http://blog.homfen.me/2014/10/22/polymer-demo---simple-google-map/</link>
      <pubDate>Wed, 22 Oct 2014 01:34:13 +0000</pubDate>
      
      <guid>http://blog.homfen.me/2014/10/22/polymer-demo---simple-google-map/</guid>
      <description>&lt;!--img src=&#34;http://blog.homfen.me/images/post/3178265018.png&#34;--&gt;

&lt;p&gt;最近在学习Polymer，感觉还挺有意思的。主要涉及的是Web Components方面的知识，将所需的组件封装起来，并保存到单独的html文件中，使用的时候只要将这个html文件通过link标签导入进来（像css样式一样），在适当的位置编写相应的自定义标签，就可以了，非常的方便。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;先讲一下Polymer创建自定义元素的方法，&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;polymer-element name=&amp;quot;my-counter&amp;quot; attributes=&amp;quot;counter&amp;quot;&amp;gt;
    &amp;lt;template&amp;gt;
        &amp;lt;style&amp;gt; /*...*/ &amp;lt;/style&amp;gt;
        &amp;lt;div id=&amp;quot;label&amp;quot;&amp;gt;&amp;lt;content&amp;gt;&amp;lt;/content&amp;gt;&amp;lt;/div&amp;gt;
        Value: &amp;lt;span id=&amp;quot;counterVal&amp;quot;&amp;gt;{{counter}}&amp;lt;/span&amp;gt;&amp;lt;br&amp;gt;
        &amp;lt;button on-tap=&amp;quot;{{increment}}&amp;quot;&amp;gt;Increment&amp;lt;/button&amp;gt;
    &amp;lt;/template&amp;gt;
    &amp;lt;script&amp;gt;
        Polymer({
            counter: 0, // Default value
            counterChanged: function() {
                this.$.counterVal.classList.add(&#39;highlight&#39;);
            },
            increment: function() {
                this.counter++;
            }
        });
    &amp;lt;/script&amp;gt;
&amp;lt;/polymer-element&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;格式就是这样，最外面是polymer-element标签，name属性指定的就是自定义标签的名字，attributes指定的是这个自定义标签的属性。template里面有style标签，和其他一些元素，style中为元素的样式。接下来是script标签，里面就一个函数Polymer，参数是一个对象，用于初始化这个标签，counter对应标签的counter属性，并给它赋值，上面template中可以通过{{counter}}访问这个counter值，类似，{{increment}}就是这里的increment方法，那前面的“on-tap”的意思就是当这个button被按下时执行increment方法。&lt;/p&gt;

&lt;p&gt;下面是一个小Demo，谷歌地图，通过输入经纬度来显示。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;template&amp;gt;
    &amp;lt;style&amp;gt;
    #map{
        border:1px solid black;
    }
    &amp;lt;/style&amp;gt;
    &amp;lt;paper-input id=&amp;quot;longtitude&amp;quot; label=&amp;quot;Enter longtitude&amp;quot;&amp;gt;&amp;lt;/paper-input&amp;gt;
    &amp;lt;paper-input id=&amp;quot;latitude&amp;quot; label=&amp;quot;Enter latitude&amp;quot;&amp;gt;&amp;lt;/paper-input&amp;gt;
    &amp;lt;paper-button id=&amp;quot;getmap&amp;quot; on-tap=&amp;quot;{{showMap}}&amp;quot; raisedbutton=&amp;quot;&amp;quot; class=&amp;quot;colored&amp;quot; label=&amp;quot;go&amp;quot; role=&amp;quot;button&amp;quot; tabindex=&amp;quot;0&amp;quot; aria-label=&amp;quot;go&amp;quot;&amp;gt;&amp;lt;/paper-button&amp;gt;
    &amp;lt;div id=&amp;quot;map&amp;quot; style=&#39;width:{{width}}px;height:{{height}}px;&#39;&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;/template&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;模版很简单，两个paper-input，一个paper-button，一个div用于展示地图。这里用到的paper-input、paper-button，要通过link标签导入进来。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;Polymer({
    width: 500, 
    height:500,
    showMap: function() {
        var lon = this.$.longtitude.value;
        var lat = this.$.latitude.value;
        var map = this.$.map;
        var mapOptions = {
            zoom: 8,
            center: new google.maps.LatLng(lat, lon)
        };
        new google.maps.Map(map,mapOptions);
    }
});
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;width和height指定地图的长宽，通过this.$.[id]来取得模版中的元素，获取了输入的经纬度就可以调用谷歌的方法，在id为map的div中展示地图了。&lt;/p&gt;

&lt;p&gt;在首页，我们需要做的就是把刚刚写的html文件通过link标签import进来，不过在此之前别忘了把platform.js导入进来，这样自定义标签才能正常工作。编写一个刚刚创建的标签，&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;my-gmap width=&amp;quot;415&amp;quot; height=&amp;quot;415&amp;quot;&amp;gt;&amp;lt;/my-gmap&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;这里设置了width和height属性，就是地图区域的长宽。看一下最终的效果：&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://blog.homfen.me/images/post/1217217468.png&#34;&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://blog.homfen.me/images/post/1757598925.png&#34;&gt;&lt;/p&gt;

&lt;p&gt;源码地址：&lt;a href=&#34;https://github.com/homfen/polymer-demo-google-map&#34;&gt;https://github.com/homfen/polymer-demo-google-map&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Polymer中文社区：&lt;a href=&#34;http://polymerchina.org&#34;&gt;http://polymerchina.org&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>